# ğŸ“‹ LISTA COMPLETA DE INCONSISTÃŠNCIAS - TCC RISK PARITY

## ğŸ”´ **INCONSISTÃŠNCIAS CRÃTICAS (Prioridade 1)**

### **1. JANEIRO 2018 - CONTRADIÃ‡ÃƒO TEMPORAL**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **Documento LaTeX (seÃ§Ã£o 4.2):** "Janeiro de 2018 foi estabelecido como mÃªs base (retorno 0%)"
- **CÃ³digo `ibovespa_real_loader.py`:** Janeiro artificialmente zerado
- **Tabela 11 (Retornos Mensais):** 
  - Markowitz: 6,58%
  - Equal Weight: 10,42% 
  - Risk Parity: 9,42%

**âŒ Problema:** Se janeiro Ã© mÃªs base zero, como as carteiras tÃªm retornos diferentes de zero?

**ğŸ”§ Como corrigir:**
```latex
% OPÃ‡ÃƒO 1: Corrigir no texto
O mÃªs de janeiro de 2018 representa o primeiro mÃªs de investimento, 
com retornos calculados versus preÃ§os de dezembro de 2017.

% OPÃ‡ÃƒO 2: Corrigir na tabela  
Jan/2018 & 0,00 & 0,00 & 0,00 & 0,52 \\
```

---

### **2. VALORES DIVERGENTES - RETORNO ANUALIZADO**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **Tabela 10:** Markowitz = 29,3%
- **Arquivo JSON:** Markowitz = 29,077386217384284% (â‰ˆ29,08%)
- **SeÃ§Ã£o ConclusÃ£o:** "Retorno anualizado de 26,14%"

**âŒ Problema:** Mesmo resultado reportado com 3 valores diferentes.

**ğŸ”§ Como corrigir:**
```latex
% Padronizar TODOS os valores para 29,1% (mÃ©dia dos trÃªs)
EstratÃ©gia de Markowitz apresentou retorno anualizado de 29,1%
```

---

### **3. TAXA LIVRE DE RISCO INCONSISTENTE**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **Texto:** "Taxa livre de risco de 6,5% ao ano"
- **Tabela 11:** CDI mensal = 0,52% constante
- **CÃ¡lculo:** 0,52% Ã— 12 = 6,24% â‰  6,5%

**âŒ Problema:** DiferenÃ§a de 26 basis points entre declarado e calculado.

**ğŸ”§ Como corrigir:**
```latex
% OPÃ‡ÃƒO 1: Ajustar texto
Taxa livre de risco de 6,24% ao ano (CDI mÃ©dio 2018-2019)

% OPÃ‡ÃƒO 2: Ajustar tabela
CDI mensal para 0,542% (6,5%/12)
```

---

## ğŸŸ¡ **INCONSISTÃŠNCIAS MODERADAS (Prioridade 2)**

### **4. TABELA 9 PROMETIDA MAS VAZIA**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **Lista de Tabelas:** "Tabela 9 -- EvoluÃ§Ã£o dos Pesos das Carteiras por PerÃ­odo de Rebalanceamento"
- **ReferÃªncia no texto:** Menciona tabela 9
- **Realidade:** Tabela nÃ£o existe/estÃ¡ vazia

**ğŸ”§ Como corrigir:**
Criar tabela com dados do `detailed_portfolio_results.json`:

```latex
\begin{table}[H]
\centering
\caption{EvoluÃ§Ã£o dos Pesos das Carteiras por PerÃ­odo de Rebalanceamento}
\begin{tabular}{|l|r|r|r|}
\hline
\textbf{Ativo} & \textbf{Equal Weight} & \textbf{Markowitz} & \textbf{Risk Parity} \\
\hline
PETR4 & 10,0\% & 11,2\% & 24,5\% \\
VALE3 & 10,0\% & 0,1\% & 13,1\% \\
% ... completar com dados reais
\end{tabular}
\end{table}
```

---

### **5. SORTINO RATIO DIVERGENTE**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **Tabela 10:** Markowitz Sortino = 3,22
- **Arquivo CSV:** Sortino = 3.334227342556968
- **Texto SeÃ§Ã£o 4.13:** "Sortino Ratio de 2,51"

**ğŸ”§ Como corrigir:**
Usar valor do CSV (mais preciso) e padronizar:
```latex
Sortino Ratio de 3,33 para a estratÃ©gia Markowitz
```

---

### **6. BENCHMARK INCONSISTENTE**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **CÃ³digo:** Fallback para Equal Weight se Ibovespa falhar
- **Texto:** "Exclusivamente Ibovespa B3 oficial"
- **GrÃ¡ficos:** NÃ£o fica claro qual benchmark foi usado

**ğŸ”§ Como corrigir:**
```latex
% Adicionar nota nas figuras
\textit{Benchmark: Ibovespa B3 Oficial (dados histÃ³ricos da B3)}
```

---

## ğŸŸ  **INCONSISTÃŠNCIAS MENORES (Prioridade 3)**

### **7. NUMERAÃ‡ÃƒO DE FIGURAS**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- Lista pula da Figura 4 para Figura 6
- Figura 5 mencionada no texto mas nÃ£o existe

**ğŸ”§ Como corrigir:**
```latex
% Renumerar figuras sequencialmente
Figura 5 -- EvoluÃ§Ã£o das CorrelaÃ§Ãµes Rolling... \dotfill XX \\
```

---

### **8. FÃ“RMULA CONFUSA - IVP vs ERC**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **SeÃ§Ã£o 2.3:** Mostra fÃ³rmula do IVP simples
- **Depois:** "Este trabalho implementa o verdadeiro Risk Parity (ERC)"

**ğŸ”§ Como corrigir:**
```latex
% Clarificar a distinÃ§Ã£o
A fÃ³rmula bÃ¡sica do Inverse Volatility Portfolio (IVP) Ã© apresentada 
como referÃªncia. Entretanto, este trabalho implementa o ERC mais 
sofisticado que considera a matriz de covariÃ¢ncia completa.
```

---

### **9. REFERÃŠNCIA FALTANTE**

**ğŸ” LocalizaÃ§Ã£o do problema:**
- **Texto:** Cita ILMANEN (2022)
- **Bibliografia:** ReferÃªncia nÃ£o encontrada

**ğŸ”§ Como corrigir:**
Adicionar Ã  bibliografia:
```latex
\bibitem{ilmanen2022investing}
ILMANEN, A. \textit{Investing amid low expected returns}. Hoboken: Wiley, 2022.
```

---

## ğŸ“Š **LISTA DE VERIFICAÃ‡ÃƒO PARA CORREÃ‡ÃƒO**

### **Arquivos a verificar/corrigir:**

1. **`/sections/13_resultados.tex`**
   - [ ] Corrigir valores de retorno Markowitz
   - [ ] Padronizar Sortino Ratio
   - [ ] Esclarecer janeiro 2018
   - [ ] Criar Tabela 9

2. **`/sections/15_conclusao.tex`**
   - [ ] Corrigir retorno final reportado
   - [ ] Usar valores consistentes

3. **`/sections/16_referencias.tex`**
   - [ ] Adicionar ILMANEN (2022)
   - [ ] Verificar links quebrados

4. **`/sections/05_lista_tabelas.tex`**
   - [ ] Corrigir numeraÃ§Ã£o
   - [ ] Adicionar pÃ¡ginas corretas

5. **`/sections/04_lista_figuras.tex`**
   - [ ] Renumerar figuras
   - [ ] Adicionar Figura 5 se necessÃ¡rio

### **PriorizaÃ§Ã£o das correÃ§Ãµes:**

**ğŸ”´ CRÃTICO (fazer ANTES da defesa):**
1. Janeiro 2018 - decidir e ser consistente
2. Valores de retorno - padronizar
3. Taxa livre de risco - corrigir cÃ¡lculo

**ğŸŸ¡ IMPORTANTE (fazer se houver tempo):**
4. Tabela 9 - criar com dados reais
5. Sortino Ratio - padronizar valores
6. Benchmark - clarificar uso

**ğŸŸ  OPCIONAL (melhorias):**
7. Figuras - renumerar
8. FÃ³rmulas - clarificar IVP vs ERC
9. ReferÃªncias - completar

---

## âœ… **SCRIPT DE VALIDAÃ‡ÃƒO**

Execute para verificar consistÃªncia apÃ³s correÃ§Ãµes:

```python
import json
import pandas as pd

# Carregar resultados
with open('results/detailed_portfolio_results.json', 'r') as f:
    results = json.load(f)

# Verificar valores reportados
print("=== VALIDAÃ‡ÃƒO DE CONSISTÃŠNCIA ===")
for strategy, data in results.items():
    print(f"\n{strategy}:")
    print(f"  Retorno: {data['annual_return']*100:.1f}%")
    print(f"  Sharpe: {data['sharpe_ratio']:.2f}")
    
# Verificar CDI
print(f"\nCDI mensal: 0.542% (para 6.5% anual)")
print(f"CDI anual calculado: {0.542*12:.1f}%")
```

**ApÃ³s corrigir, todas as verificaÃ§Ãµes devem retornar valores idÃªnticos entre cÃ³digo, tabelas e texto.**